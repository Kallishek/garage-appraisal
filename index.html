<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Garage Appraisal Pro</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, Arial; padding: 20px; background:#f2f2f7; }
    input, textarea { width:100%; padding:12px; margin:8px 0; border-radius:10px; border:1px solid #ccc; font-size:16px; }
    button { padding:12px 16px; margin:8px 6px 8px 0; border:none; border-radius:10px; background:black; color:white; font-size:15px; cursor:pointer; }
    h1 { margin-bottom:10px; }
    h2 { margin-top:25px; }
    .card { background:white; padding:20px; border-radius:16px; box-shadow:0 8px 20px rgba(0,0,0,0.08); }
    .total { font-size:20px; font-weight:bold; margin-top:10px; }
    .section { margin-top:25px; }
  </style>
</head>
<body>

<div class="card">
  <h1>Vehicle Appraisal Pro</h1>

  <div class="section">
    <h2>Vehicle Info</h2>
    <input id="brand" placeholder="Brand">
    <input id="model" placeholder="Model">
    <input id="registration" placeholder="Registration">
    <input id="mileage" placeholder="Mileage">
    <input id="source" placeholder="Source (P/X, Buy-In, etc)">
    <input id="keys" type="number" placeholder="Number of Keys">
    <input id="tracker" placeholder="Tracker Number">
  </div>

  <div class="section">
    <h2>Damage Items (£)</h2>

    <div id="damageContainer"></div>

    <div class="total">Total: £<span id="total">0.00</span></div>
  </div>

  <div class="section">
    <h2>Additional Notes</h2>
    <textarea id="notes" placeholder="Extra notes"></textarea>
  </div>

  <div class="section">
    <h2>Appraised By</h2>
    <input id="appraiser" placeholder="Your name">
  </div>

  <button onclick="sendEmail()">Send Email Report</button>
</div>

<script>

// Create 6 damage rows dynamically
const container = document.getElementById('damageContainer');
for (let i = 1; i <= 6; i++) {
  container.innerHTML += `
    <input id="damage${i}" placeholder="Item ${i} description">
    <input id="cost${i}" type="number" placeholder="Cost ${i}" oninput="calculateTotal()">
  `;
}

function calculateTotal() {
  let total = 0;
  for (let i = 1; i <= 6; i++) {
    total += parseFloat(document.getElementById('cost' + i).value) || 0;
  }
  document.getElementById('total').innerText = total.toFixed(2);
}

function sendEmail() {
  const brand = document.getElementById('brand').value;
  const model = document.getElementById('model').value;
  const reg = document.getElementById('registration').value;
  const mileage = document.getElementById('mileage').value;
  const source = document.getElementById('source').value;
  const keys = document.getElementById('keys').value;
  const tracker = document.getElementById('tracker').value;
  const notes = document.getElementById('notes').value;
  const appraiser = document.getElementById('appraiser').value;
  const total = document.getElementById('total').innerText;

  let damageSection = "";
  for (let i = 1; i <= 6; i++) {
    const d = document.getElementById('damage' + i).value;
    const c = document.getElementById('cost' + i).value;
    if (d || c) {
      damageSection += d + " - £" + (c || 0) + "%0D%0A";
    }
  }

  const subject = "Appraisal Report - " + brand + " " + model + " (" + reg + ")";

  const body =
    "VEHICLE INFORMATION" + "%0D%0A" +
    "Brand: " + brand + "%0D%0A" +
    "Model: " + model + "%0D%0A" +
    "Registration: " + reg + "%0D%0A" +
    "Mileage: " + mileage + "%0D%0A" +
    "Source: " + source + "%0D%0A" +
    "Keys: " + keys + "%0D%0A" +
    "Tracker: " + tracker + "%0D%0A%0D%0A" +
    "DAMAGE BREAKDOWN" + "%0D%0A" +
    damageSection + "%0D%0A" +
    "TOTAL ESTIMATED COST: £" + total + "%0D%0A%0D%0A" +
    "NOTES:" + "%0D%0A" + notes + "%0D%0A%0D%0A" +
    "Appraised by: " + appraiser;

  window.location.href = "mailto:?subject=" + subject + "&body=" + body;
}

</script>

</body>
</html>
